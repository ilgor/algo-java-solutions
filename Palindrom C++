#include <iostream>
#include <deque>
#include <string>

using namespace std;

bool isPalindrom(string term)
{
  deque<char> d;
  
  for (int i=0; i<term.length(); i++)
  {
    d.push_back(term[i]);
  }
  
  while (!d.empty())
  {
    while (!isalnum(d.front()))
    {
      cout << "Popping " << d.front() << endl;
      d.pop_front();
    }
    while (!isalnum(d.back()))
    {
      cout << "Popping " << d.back() << endl;
      d.pop_back();
    }
    if (d.front() == d.back())
    {
      cout << d.front() << " : " << d.back() << endl;
      d.pop_front();
      d.pop_back();
    }
    else
    {
      cout << term << " is not plaindrome!\n";
      return false;
    }
  }
  cout << term << " is plaindrome!\n";
  return true;
} // end 

int main ()
{
  cout << isPalindrom("@#ilgo$%rrogli");
  return 0;
}
